// Grounded
@PART[groundedisru]:NEEDS[Grounded]:BEFORE[RationalResourcesParts]
{
	RRConverter = isSet
}

// @PART[groundedisru]:NEEDS[Grounded]:AFTER[RationalResourcesParts]
// {
	// @MODULE[ModuleResourceConverter]:HAS[#Tag[RR]],*
	// {
		// @INPUT_RESOURCE:HAS[~ResourceName[ElectricCharge]],*
		// {
			// @Ratio *= 1
		// }
		// @OUTPUT_RESOURCE,*
		// {
			// @Ratio *= 1
		// }
	// }
// }

// Stockalike Mining Expansion
@PART[SMX_Size?ISRU|SMX_Mk?ISRURefinery]:NEEDS[MiningExpansion]:BEFORE[RationalResourcesParts]
{
	RRConverter = isSet
}

@PART[SMX_Size3ISRU]:NEEDS[MiningExpansion]:AFTER[RationalResourcesParts]
{
	@MODULE[ModuleResourceConverter]:HAS[#Tag[RR]],*
	{
		@INPUT_RESOURCE:HAS[~ResourceName[ElectricCharge]],*
		{
			@Ratio *= 4
		}
		@OUTPUT_RESOURCE,*
		{
			@Ratio *= 4
		}
	}
}
@PART[SMX_Size0ISRU]:NEEDS[MiningExpansion]:AFTER[RationalResourcesParts]
{
	@MODULE[ModuleResourceConverter]:HAS[#Tag[RR]],*
	{
		@INPUT_RESOURCE:HAS[~ResourceName[ElectricCharge]],*
		{
			@Ratio *= 0.2
		}
		@OUTPUT_RESOURCE,*
		{
			@Ratio *= 0.2
		}
	}
	@MODULE[ModuleCoreHeat]
	{
		@MaxCoolant = 100
	}
}
@PART[SMX_Mk2ISRURefinery]:NEEDS[MiningExpansion]:AFTER[RationalResourcesParts]
{
	@MODULE[ModuleResourceConverter]:HAS[#Tag[RR]],*
	{
		@INPUT_RESOURCE:HAS[~ResourceName[ElectricCharge]],*
		{
			@Ratio *= 0.66
		}
		@OUTPUT_RESOURCE,*
		{
			@Ratio *= 0.66
		}
	}
}
@PART[SMX_Mk3ISRURefinery]:NEEDS[MiningExpansion]:AFTER[RationalResourcesParts]
{
	@MODULE[ModuleResourceConverter]:HAS[#Tag[RR]],*
	{
		@INPUT_RESOURCE:HAS[~ResourceName[ElectricCharge]],*
		{
			@Ratio *= 3.3333
		}
		@OUTPUT_RESOURCE,*
		{
			@Ratio *= 3.3333
		}
	}
}
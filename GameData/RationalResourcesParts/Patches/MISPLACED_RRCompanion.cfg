@PART[RRScoopAtm*]:NEEDS[!Pathfinder,!Kerbalism]:BEFORE[RationalResourcesCompanion]
{
	MODULE
	{
		name = ModuleResourceHarvester
		HarvesterType = 2
		Efficiency = #$/RRPower$
		ResourceName = Ammonia
		ConverterName = Ammonia Filter (Atmo)
		StartActionName = Start Ammonia Filter (Atmo)
		StopActionName = Stop Ammonia Filter (Atmo)
		ToggleActionName = Toggle Ammonia Filter (Atmo)
		airSpeedStatic = 5000
		intakeSpeed = 0
		intakeTransformName = intakeTransform
		Tag = RR
		machCurve
		{
			key = 0 0.01 0 0
			key = 0.45 0.6
			key = 2 1 0 0
			key = 3.02 0.95
			key = 9 0.001 0 0
		}
	 	INPUT_RESOURCE
	 	{
			ResourceName = ElectricCharge
			Ratio = 0
	 	}
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = ArgonGas
		@ConverterName = ArgonGas Filter (Atmo)
		@StartActionName = Start ArgonGas Filter (Atmo)
		@StopActionName = Stop ArgonGas Filter (Atmo)
		@ToggleActionName = Toggle ArgonGas Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = CarbonDioxide
		@ConverterName = CarbonDioxide Filter (Atmo)
		@StartActionName = Start CarbonDioxide Filter (Atmo)
		@StopActionName = Stop CarbonDioxide Filter (Atmo)
		@ToggleActionName = Toggle CarbonDioxide Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = Hydrogen
		@ConverterName = Hydrogen Filter (Atmo)
		@StartActionName = Start Hydrogen Filter (Atmo)
		@StopActionName = Stop Hydrogen Filter (Atmo)
		@ToggleActionName = Toggle Hydrogen Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = LqdDeuterium
		@ConverterName = LqdDeuterium Filter (Atmo)
		@StartActionName = Start LqdDeuterium Filter (Atmo)
		@StopActionName = Stop LqdDeuterium Filter (Atmo)
		@ToggleActionName = Toggle LqdDeuterium Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = Methane
		@ConverterName = Methane Filter (Atmo)
		@StartActionName = Start Methane Filter (Atmo)
		@StopActionName = Stop Methane Filter (Atmo)
		@ToggleActionName = Toggle Methane Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = Nitrogen
		@ConverterName = Nitrogen Filter (Atmo)
		@StartActionName = Start Nitrogen Filter (Atmo)
		@StopActionName = Stop Nitrogen Filter (Atmo)
		@ToggleActionName = Toggle Nitrogen Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = Oxygen
		@ConverterName = Oxygen Filter (Atmo)
		@StartActionName = Start Oxygen Filter (Atmo)
		@StopActionName = Stop Oxygen Filter (Atmo)
		@ToggleActionName = Toggle Oxygen Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ResourceName = Water
		@ConverterName = Water Filter (Atmo)
		@StartActionName = Start Water Filter (Atmo)
		@StopActionName = Stop Water Filter (Atmo)
		@ToggleActionName = Toggle Water Filter (Atmo)
	}
	+MODULE[ModuleResourceHarvester],0
	{
		@ConverterName = XenonGas Filter (Atmo)
		@StartActionName = Start XenonGas Filter (Atmo)
		@StopActionName = Stop XenonGas Filter (Atmo)
		@ToggleActionName = Toggle XenonGas Filter (Atmo)
	}
}


@PART[RRScoopAtm*]:NEEDS[Pathfinder]
{
	MODULE
	{
		name = WBIModuleResourceHarvester
		ConverterName = Ammonia Filter
		harvestTypes = Atmospheric
		Efficiency = 50
		@Efficiency *= #$/RRPower$
		ResourceName = Ammonia
		StartActionName = Start Ram Filter
		StopActionName = Stop Ram Filter
		ToggleActionName = Toggle Ram Filter
		IsActivated = true
		area = #$/MODULE[ModuleResourceIntake]/area$
		airSpeedStatic = 500
		intakeSpeed = 0
		intakeTransformName = intakeTransform
		DefaultShutoffTemp = 0.8
		machCurve
		{
			key = 0.05 0.001 0 0
			key = 0.7 0.8
			key = 1.4 1 0 0
			key = 3.4 1 0 0
			key = 9 0.001 0 0
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 0
		}
	}
	
	MODULE
	{
		name = WBIOmniConverter
		managedName = Freeze Bay
		templateNodes = OMNICONVERTER
		templateTags = rrfz;
		BaseEfficiency = #$/RRPower$
		reconfigureSkill = ConverterSkill
		requiredResource = Equipment
		requiredAmount = 100
		@requiredAmount *= #$/RRPower$

		ConverterName = OmniConverter
		StartActionName = Start Converter
		StopActionName = Stop Converter
		AutoShutdown = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		EfficiencyBonus = #$/RRPower$

		showOpsView = true
	}
}
